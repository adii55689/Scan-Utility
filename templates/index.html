<!DOCTYPE html>
<html>
<head>
    <title>Bitbucket Keyword Search</title>
</head>
<body>
    <h2>Bitbucket Repository Keyword Search</h2>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul style="color:red;">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <form method="POST">
        <label>Repository URL:</label><br>
        <input type="text" name="repo_url" size="80"><br><br>

        <label>Authentication Type:</label><br>
        <select name="auth_type">
            <option value="https">HTTPS (username + app password)</option>
            <option value="ssh">SSH (paste private key)</option>
        </select><br><br>

        <div>
            <label>HTTPS Username:</label><br>
            <input type="text" name="https_username"><br>
            <label>HTTPS App Password:</label><br>
            <input type="password" name="https_password"><br><br>
        </div>

        <div>
            <label>SSH Private Key:</label><br>
            <textarea name="ssh_key" rows="10" cols="80"></textarea><br><br>
        </div>

        <label>Keyword:</label><br>
        <input type="text" name="keyword" size="50"><br><br>

        <label>File Extensions (comma separated, or 'All'):</label><br>
        <input type="text" name="extension" size="30" value="All"><br><br>

        <input type="submit" value="Run Search">
    </form>
</body>
</html>
